name: ServerScriptService
type: class
category: Scripting
memory_category: Instances
summary: |
  A container service for server-only `Class.Script` objects.
description: |
  **ServerScriptService** is a container service for `Class.Script`,
  `Class.ModuleScript` and other scripting-related assets that are only meant
  for server use. The contents are never replicated to player clients at all,
  which allows for a secure storage of important game logic. Script objects will
  run if they are within this service and not
  `Class.BaseScript.Disabled|Disabled`.

  This service houses just one property,
  `Class.ServerScriptService.LoadStringEnabled|LoadStringEnabled`, which
  determines whether the `loadstring` function in Lua is enabled. It's
  recommended to keep this disabled for security reasons, as misusing this
  function can lead to remote code execution vulnerabilities.

  Scripts running in ServerScriptService may need access to various other assets
  which are not scripting-related, such as prefabricated models to be
  `Class.Instance:Clone()|cloned`. Such assets should go in
  `Class.ServerStorage`, which behaves similarly to this service except that
  `Class.Script` objects will not run even if they are not
  `Class.BaseScript.Disabled|Disabled`. Assets and `Class.ModuleScript` that are
  useful to both the server and clients should go in `Class.ReplicatedStorage`
  instead. Finally, you can further organize objects within this service through
  the use of `Class.Folder|Folders` without affecting the way it behaves.
local MarketplaceService = game:GetService("MarketplaceService")
local Players = game:GetService("Players")

local passID = 0000000  -- Change this to your Pass ID

local function onPlayerAdded(player)
	local hasPass = false

	-- Check if the player already owns the Pass
	local success, message = pcall(function()
		hasPass = MarketplaceService:UserOwnsGamePassAsync(player.UserId, passID)
	end)

	-- If there's an error, issue a warning and exit the function
	if not success then
		warn("Error while checking if player has pass: " .. tostring(message))
		return
	end

	if hasPass then
		print(player.Name .. " owns the Pass with ID " .. passID)
		-- Assign this player the ability or bonus related to the Pass
	end
end

-- Connect "PlayerAdded" events to the function
Players.PlayerAdded:Connect(onPlayerAdded)
